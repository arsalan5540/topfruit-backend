{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Joi.string.object is not a function Joi.string.object is not a function","stack":"TypeError: Joi.string.object is not a function\n    at validateUpdateProduct (G:\\TOPFRUIT\\backend\\app\\http\\validator\\ProductValidator.js:26:29)\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:35:27)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at param (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:365:14)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"loginValidator is not defined loginValidator is not defined","stack":"ReferenceError: loginValidator is not defined\n    at loginAdmin (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:27:21)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"jwt is not defined jwt is not defined","stack":"ReferenceError: jwt is not defined\n    at model.schemaAdmin.methods.generateAuthToken (G:\\TOPFRUIT\\backend\\app\\models\\Admin.js:15:5)\n    at loginAdmin (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:44:25)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"jwt is not defined jwt is not defined","stack":"ReferenceError: jwt is not defined\n    at model.schemaAdmin.methods.generateAuthToken (G:\\TOPFRUIT\\backend\\app\\models\\Admin.js:15:5)\n    at loginAdmin (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:43:25)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"_message":"user validation failed","errors":{"phone":{"kind":"required","message":"Path `phone` is required.","name":"ValidatorError","path":"phone","properties":{"message":"Path `phone` is required.","path":"phone","type":"required"}}},"level":"error","message":"user validation failed: phone: Path `phone` is required. user validation failed: phone: Path `phone` is required.","stack":"ValidationError: user validation failed: phone: Path `phone` is required.\n    at model.Document.invalidate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:3054:32)\n    at G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:2842:17\n    at G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\schematype.js:1349:9\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"_message":"user validation failed","errors":{"phone":{"kind":"required","message":"Path `phone` is required.","name":"ValidatorError","path":"phone","properties":{"message":"Path `phone` is required.","path":"phone","type":"required"}}},"level":"error","message":"user validation failed: phone: Path `phone` is required. user validation failed: phone: Path `phone` is required.","stack":"ValidationError: user validation failed: phone: Path `phone` is required.\n    at model.Document.invalidate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:3054:32)\n    at G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:2842:17\n    at G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\schematype.js:1349:9\n    at processTicksAndRejections (node:internal/process/task_queues:78:11)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"db is not defined db is not defined","stack":"ReferenceError: db is not defined\n    at getOneForUser (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:92:22)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"data is not defined data is not defined","stack":"ReferenceError: data is not defined\n    at getOneForUser (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:108:14)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"data is not defined data is not defined","stack":"ReferenceError: data is not defined\n    at getOneForUser (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:108:14)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"data is not defined data is not defined","stack":"ReferenceError: data is not defined\n    at getOneForUser (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:108:14)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"result is not defined result is not defined","stack":"ReferenceError: result is not defined\n    at getOneForUser (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:108:14)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"restaurant is not defined restaurant is not defined","stack":"ReferenceError: restaurant is not defined\n    at addProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:61:5)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"restaurant is not defined restaurant is not defined","stack":"ReferenceError: restaurant is not defined\n    at addProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:61:5)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"restaurant is not defined restaurant is not defined","stack":"ReferenceError: restaurant is not defined\n    at addProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:61:5)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"code":"ENOENT","errno":-4058,"level":"error","message":"ENOENT: no such file or directory, open 'G:\\TOPFRUIT\\backend\\uploads\\1666365217736-watermelon.jpg' ENOENT: no such file or directory, open 'G:\\TOPFRUIT\\backend\\uploads\\1666365217736-watermelon.jpg'","path":"G:\\TOPFRUIT\\backend\\uploads\\1666365217736-watermelon.jpg","stack":"Error: ENOENT: no such file or directory, open 'G:\\TOPFRUIT\\backend\\uploads\\1666365217736-watermelon.jpg'","storageErrors":[],"syscall":"open"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Found non-callable @@iterator Found non-callable @@iterator","stack":"TypeError: Found non-callable @@iterator\n    at addProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:63:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Found non-callable @@iterator Found non-callable @@iterator","stack":"TypeError: Found non-callable @@iterator\n    at addProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:64:20)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"products.push is not a function products.push is not a function","stack":"TypeError: products.push is not a function\n    at addProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:68:14)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"products.push is not a function products.push is not a function","stack":"TypeError: products.push is not a function\n    at addProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:68:14)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Callback must be a function, got [object Object] Callback must be a function, got [object Object]","stack":"MongooseError: Callback must be a function, got [object Object]\n    at Function.Model.$handleCallbackError (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\model.js:5167:11)\n    at Function.Model.findByIdAndUpdate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\model.js:2732:19)\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:164:39)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Callback must be a function, got [object Object] Callback must be a function, got [object Object]","stack":"MongooseError: Callback must be a function, got [object Object]\n    at Function.Model.$handleCallbackError (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\model.js:5167:11)\n    at Function.Model.findByIdAndUpdate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\model.js:2732:19)\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:164:39)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"products is not defined products is not defined","stack":"ReferenceError: products is not defined\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:177:5)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"code":"ERR_HTTP_INVALID_STATUS_CODE","level":"error","message":"Invalid status code: {\n  name: 'سیب گلاب',\n  price: 12000,\n  productWeight: 1000,\n  productType: 'میوه جات',\n  pic: '1666450022104-melon.jpg'\n} Invalid status code: {\n  name: 'سیب گلاب',\n  price: 12000,\n  productWeight: 1000,\n  productType: 'میوه جات',\n  pic: '1666450022104-melon.jpg'\n}","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: {\n  name: 'سیب گلاب',\n  price: 12000,\n  productWeight: 1000,\n  productType: 'میوه جات',\n  pic: '1666450022104-melon.jpg'\n}\n    at new NodeError (node:internal/errors:372:5)\n    at ServerResponse.writeHead (node:_http_server:275:11)\n    at ServerResponse._implicitHeader (node:_http_server:266:8)\n    at write_ (node:_http_outgoing:766:9)\n    at ServerResponse.end (node:_http_outgoing:855:5)\n    at ServerResponse.send (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\response.js:232:10)\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:181:9)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"code":"ERR_HTTP_INVALID_STATUS_CODE","level":"error","message":"Invalid status code: {\n  name: 'سیب گلاب',\n  price: 12000,\n  productWeight: 1000,\n  productType: 'میوه جات'\n} Invalid status code: {\n  name: 'سیب گلاب',\n  price: 12000,\n  productWeight: 1000,\n  productType: 'میوه جات'\n}","stack":"RangeError [ERR_HTTP_INVALID_STATUS_CODE]: Invalid status code: {\n  name: 'سیب گلاب',\n  price: 12000,\n  productWeight: 1000,\n  productType: 'میوه جات'\n}\n    at new NodeError (node:internal/errors:372:5)\n    at ServerResponse.writeHead (node:_http_server:275:11)\n    at ServerResponse._implicitHeader (node:_http_server:266:8)\n    at write_ (node:_http_outgoing:766:9)\n    at ServerResponse.end (node:_http_outgoing:855:5)\n    at ServerResponse.send (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\response.js:232:10)\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:181:9)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"pic is not defined pic is not defined","stack":"ReferenceError: pic is not defined\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:162:9)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Callback must be a function, got [object Object] Callback must be a function, got [object Object]","stack":"MongooseError: Callback must be a function, got [object Object]\n    at Function.Model.$handleCallbackError (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\model.js:5167:11)\n    at Function.Model.findByIdAndUpdate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\model.js:2732:19)\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:166:39)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Callback must be a function, got [object Object] Callback must be a function, got [object Object]","stack":"MongooseError: Callback must be a function, got [object Object]\n    at Function.Model.$handleCallbackError (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\model.js:5167:11)\n    at Function.Model.findByIdAndUpdate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\model.js:2732:19)\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:166:39)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading 'path') Cannot read properties of undefined (reading 'path')","stack":"TypeError: Cannot read properties of undefined (reading 'path')\n    at deleteProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:157:32)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"شلیل\" (type string) at path \"_id\" for model \"products\" Cast to ObjectId failed for value \"شلیل\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"شلیل\" (type string) at path \"_id\" for model \"products\"\n    at model.Query.exec (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4884:21)\n    at model.Query.Query.then (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4983:15)","stringValue":"\"شلیل\"","value":"شلیل","valueType":"string"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Parameter \"filter\" to findOne() must be an object, got شلیل Parameter \"filter\" to findOne() must be an object, got شلیل","stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got شلیل\n    at model.Query.Query.findOne (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:2588:16)\n    at Function.findOne (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\model.js:2329:13)\n    at searchProducts (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:101:37)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Assignment to constant variable. Assignment to constant variable.","stack":"TypeError: Assignment to constant variable.\n    at searchProducts (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:103:14)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"listen EADDRINUSE: address already in use :::3000"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:182:22)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:182:22)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:182:22)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at deleteProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:163:29)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at deleteProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:167:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at deleteProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:168:24)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"1667056280149-eggplant.jpg+undefined\" (type string) at path \"_id\" for model \"products\" Cast to ObjectId failed for value \"1667056280149-eggplant.jpg+undefined\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"1667056280149-eggplant.jpg+undefined\" (type string) at path \"_id\" for model \"products\"\n    at model.Query.exec (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4884:21)\n    at model.Query.Query.then (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4983:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"1667056280149-eggplant.jpg+undefined\"","value":"1667056280149-eggplant.jpg+undefined","valueType":"string"}
{"level":"info","message":"db connected"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\" Cast to ObjectId failed for value \"1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\"\n    at model.Query.exec (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4884:21)\n    at model.Query.Query.then (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4983:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"1667056280149-eggplant.jpg\"","value":"1667056280149-eggplant.jpg","valueType":"string"}
{"level":"info","message":"db connected"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\" Cast to ObjectId failed for value \"1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\"\n    at model.Query.exec (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4884:21)\n    at model.Query.Query.then (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4983:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"1667056280149-eggplant.jpg\"","value":"1667056280149-eggplant.jpg","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\" Cast to ObjectId failed for value \"1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\"\n    at model.Query.exec (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4884:21)\n    at model.Query.Query.then (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4983:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"1667056280149-eggplant.jpg\"","value":"1667056280149-eggplant.jpg","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"635d429837ef240c694d0aaa1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\" Cast to ObjectId failed for value \"635d429837ef240c694d0aaa1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"635d429837ef240c694d0aaa1667056280149-eggplant.jpg\" (type string) at path \"_id\" for model \"products\"\n    at model.Query.exec (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4884:21)\n    at model.Query.Query.then (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4983:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"635d429837ef240c694d0aaa1667056280149-eggplant.jpg\"","value":"635d429837ef240c694d0aaa1667056280149-eggplant.jpg","valueType":"string"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"__basedir is not defined __basedir is not defined","stack":"ReferenceError: __basedir is not defined\n    at removeSync (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:204:27)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\TopFruitAdmin.js:6:34)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\Auth.js:11:5)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading '_id') Cannot read properties of undefined (reading '_id')","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:76:56)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:286:9"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading '_id') Cannot read properties of undefined (reading '_id')","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:76:56)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:286:9"}
{"level":"error","message":"Cannot read properties of undefined (reading '_id') Cannot read properties of undefined (reading '_id')","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:76:56)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:286:9"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading 'productId') Cannot read properties of undefined (reading 'productId')","stack":"TypeError: Cannot read properties of undefined (reading 'productId')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:76:56)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:286:9"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading 'basket') Cannot read properties of undefined (reading 'basket')","stack":"TypeError: Cannot read properties of undefined (reading 'basket')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:76:56)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:286:9"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading '_id') Cannot read properties of undefined (reading '_id')","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:76:57)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:286:9"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading '_id') Cannot read properties of undefined (reading '_id')","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:76:56)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:286:9"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading '_id') Cannot read properties of undefined (reading '_id')","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:76:56)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:286:9"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading '_id') Cannot read properties of undefined (reading '_id')","stack":"TypeError: Cannot read properties of undefined (reading '_id')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:77:56)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:346:12)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:280:10)\n    at Function.handle (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:175:3)\n    at router (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:47:12)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at trim_prefix (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:328:13)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:286:9"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"_message":"user validation failed","errors":{"totalPrice":{"kind":"Number","message":"Cast to Number failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"","name":"CastError","path":"totalPrice","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"{ totalPrice: 214000 }\"","value":{"totalPrice":214000},"valueType":"Object"}},"level":"error","message":"user validation failed: totalPrice: Cast to Number failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\" user validation failed: totalPrice: Cast to Number failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"","stack":"ValidationError: user validation failed: totalPrice: Cast to Number failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"\n    at model.Document.invalidate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:3054:32)\n    at model.$set (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:1409:12)\n    at model.set [as totalPrice] (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:194:19)\n    at updateBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:69:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"_message":"user validation failed","errors":{"totalPrice":{"kind":"string","message":"Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"","name":"CastError","path":"totalPrice","reason":null,"stringValue":"\"{ totalPrice: 214000 }\"","value":{"totalPrice":214000},"valueType":"Object"}},"level":"error","message":"user validation failed: totalPrice: Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\" user validation failed: totalPrice: Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"","stack":"ValidationError: user validation failed: totalPrice: Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"\n    at model.Document.invalidate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:3054:32)\n    at model.$set (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:1409:12)\n    at model.set [as totalPrice] (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:194:19)\n    at updateBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:69:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"_message":"user validation failed","errors":{"totalPrice":{"kind":"Number","message":"Cast to Number failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"","name":"CastError","path":"totalPrice","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"{ totalPrice: 214000 }\"","value":{"totalPrice":214000},"valueType":"Object"}},"level":"error","message":"user validation failed: totalPrice: Cast to Number failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\" user validation failed: totalPrice: Cast to Number failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"","stack":"ValidationError: user validation failed: totalPrice: Cast to Number failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"\n    at model.Document.invalidate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:3054:32)\n    at model.$set (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:1409:12)\n    at model.set [as totalPrice] (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:194:19)\n    at updateBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:69:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"_message":"user validation failed","errors":{"totalPrice":{"kind":"string","message":"Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"","name":"CastError","path":"totalPrice","reason":null,"stringValue":"\"{ totalPrice: 214000 }\"","value":{"totalPrice":214000},"valueType":"Object"}},"level":"error","message":"user validation failed: totalPrice: Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\" user validation failed: totalPrice: Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"","stack":"ValidationError: user validation failed: totalPrice: Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"\n    at model.Document.invalidate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:3054:32)\n    at model.$set (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:1409:12)\n    at model.set [as totalPrice] (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:194:19)\n    at updateBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:69:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot access 'totalPrice' before initialization Cannot access 'totalPrice' before initialization","stack":"ReferenceError: Cannot access 'totalPrice' before initialization\n    at updateBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:57:45)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\User.js:6:33)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\Auth.js:11:5)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot access 'totalPrice' before initialization Cannot access 'totalPrice' before initialization","stack":"ReferenceError: Cannot access 'totalPrice' before initialization\n    at updateBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:57:46)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\User.js:6:33)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\Auth.js:11:5)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot access 'totalPrice' before initialization Cannot access 'totalPrice' before initialization","stack":"ReferenceError: Cannot access 'totalPrice' before initialization\n    at updateBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:57:46)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\User.js:6:33)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\Auth.js:11:5)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15"}
{"level":"info","message":"db connected"}
{"_message":"user validation failed","errors":{"totalPrice":{"kind":"string","message":"Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"","name":"CastError","path":"totalPrice","reason":null,"stringValue":"\"{ totalPrice: 214000 }\"","value":{"totalPrice":214000},"valueType":"Object"}},"level":"error","message":"user validation failed: totalPrice: Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\" user validation failed: totalPrice: Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"","stack":"ValidationError: user validation failed: totalPrice: Cast to string failed for value \"{ totalPrice: 214000 }\" (type Object) at path \"totalPrice\"\n    at model.Document.invalidate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:3054:32)\n    at model.$set (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:1409:12)\n    at model.set [as totalPrice] (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:194:19)\n    at updateBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:69:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot access 'totalPrice' before initialization Cannot access 'totalPrice' before initialization","stack":"ReferenceError: Cannot access 'totalPrice' before initialization\n    at updateBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:57:59)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\User.js:6:33)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\Auth.js:11:5)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot access 'totalPrice' before initialization Cannot access 'totalPrice' before initialization","stack":"ReferenceError: Cannot access 'totalPrice' before initialization\n    at updateBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:57:60)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\User.js:6:33)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at module.exports (G:\\TOPFRUIT\\backend\\app\\http\\middleware\\Auth.js:11:5)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:144:13)\n    at Route.dispatch (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\route.js:114:3)\n    at newFn (G:\\TOPFRUIT\\backend\\node_modules\\express-async-errors\\index.js:16:20)\n    at Layer.handle [as handle_request] (G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at G:\\TOPFRUIT\\backend\\node_modules\\express\\lib\\router\\index.js:284:15"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"_message":"user validation failed","errors":{"totalPrice":{"kind":"Number","message":"Cast to Number failed for value \"new ObjectId(\"63729f124fa75dc8248d2608\")\" (type ObjectId) at path \"totalPrice\"","name":"CastError","path":"totalPrice","reason":{"actual":false,"code":"ERR_ASSERTION","expected":true,"generatedMessage":true,"operator":"=="},"stringValue":"\"new ObjectId(\"63729f124fa75dc8248d2608\")\"","value":"63729f124fa75dc8248d2608","valueType":"ObjectId"}},"level":"error","message":"user validation failed: totalPrice: Cast to Number failed for value \"new ObjectId(\"63729f124fa75dc8248d2608\")\" (type ObjectId) at path \"totalPrice\" user validation failed: totalPrice: Cast to Number failed for value \"new ObjectId(\"63729f124fa75dc8248d2608\")\" (type ObjectId) at path \"totalPrice\"","stack":"ValidationError: user validation failed: totalPrice: Cast to Number failed for value \"new ObjectId(\"63729f124fa75dc8248d2608\")\" (type ObjectId) at path \"totalPrice\"\n    at model.Document.invalidate (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:3054:32)\n    at model.$set (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\document.js:1409:12)\n    at model.set [as totalPrice] (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:194:19)\n    at updateBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:69:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of null (reading 'basket') Cannot read properties of null (reading 'basket')","stack":"TypeError: Cannot read properties of null (reading 'basket')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:84:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of null (reading 'basket') Cannot read properties of null (reading 'basket')","stack":"TypeError: Cannot read properties of null (reading 'basket')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:84:25)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Cannot read properties of null (reading 'basket') Cannot read properties of null (reading 'basket')","stack":"TypeError: Cannot read properties of null (reading 'basket')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:84:25)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Cannot read properties of null (reading 'basket') Cannot read properties of null (reading 'basket')","stack":"TypeError: Cannot read properties of null (reading 'basket')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:84:25)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error","message":"Cannot read properties of null (reading 'basket') Cannot read properties of null (reading 'basket')","stack":"TypeError: Cannot read properties of null (reading 'basket')\n    at checkoutBasket (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:84:25)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\" Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\"\n    at model.Query.exec (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4884:21)\n    at model.Query.Query.then (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4983:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"null\"","value":"null","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\" Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\"\n    at model.Query.exec (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4884:21)\n    at model.Query.Query.then (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4983:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"null\"","value":"null","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\" Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\"\n    at model.Query.exec (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4884:21)\n    at model.Query.Query.then (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4983:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"null\"","value":"null","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\" Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\"\n    at model.Query.exec (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4884:21)\n    at model.Query.Query.then (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4983:15)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"null\"","value":"null","valueType":"string"}
{"kind":"ObjectId","level":"error","message":"Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\" Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\"","path":"_id","reason":{},"stack":"CastError: Cast to ObjectId failed for value \"null\" (type string) at path \"_id\" for model \"products\"\n    at model.Query.exec (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4884:21)\n    at model.Query.Query.then (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:4983:15)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","stringValue":"\"null\"","value":"null","valueType":"string"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Parameter \"filter\" to findOne() must be an object, got basket Parameter \"filter\" to findOne() must be an object, got basket","stack":"ObjectParameterError: Parameter \"filter\" to findOne() must be an object, got basket\n    at model.Query.Query.findOne (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:2588:16)\n    at Function.findOne (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\model.js:2329:13)\n    at getOrdersList (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:206:38)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"basket is not defined basket is not defined","stack":"ReferenceError: basket is not defined\n    at getOrdersList (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:206:47)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Parameter \"filter\" to find() must be an object, got basket Parameter \"filter\" to find() must be an object, got basket","stack":"ObjectParameterError: Parameter \"filter\" to find() must be an object, got basket\n    at model.Query.Query.find (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\query.js:2348:16)\n    at Function.find (G:\\TOPFRUIT\\backend\\node_modules\\mongoose\\lib\\model.js:2225:13)\n    at getOrdersList (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:206:38)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:182:22)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at updateProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:181:22)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of undefined (reading 'filename') Cannot read properties of undefined (reading 'filename')","stack":"TypeError: Cannot read properties of undefined (reading 'filename')\n    at addProduct (G:\\TOPFRUIT\\backend\\app\\http\\controler\\ProductController.js:69:35)\n    at runMicrotasks (<anonymous>)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"info","message":"db connected"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"info","message":"db connected"}
{"level":"error","message":"Cannot read properties of null (reading 'amount') Cannot read properties of null (reading 'amount')","stack":"TypeError: Cannot read properties of null (reading 'amount')\n    at verifyPayment (G:\\TOPFRUIT\\backend\\app\\http\\controler\\UserController.js:115:25)\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)"}
{"level":"error"}
{"level":"error"}
{"level":"error"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
{"level":"info","message":"db connected"}
